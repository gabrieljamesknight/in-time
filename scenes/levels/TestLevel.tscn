[gd_scene load_steps=17 format=3 uid="uid://crifn7bewjubb"]

[ext_resource type="PackedScene" uid="uid://cbatlw163lxtd" path="res://scenes/player/player.tscn" id="1_86d4f"]
[ext_resource type="PackedScene" uid="uid://cfsy6ply8s0it" path="res://scenes/interactables/interactive_bike.tscn" id="2_w20ko"]
[ext_resource type="PackedScene" uid="uid://dj4fstw2jeauk" path="res://scenes/hazards/traffic_car.tscn" id="3_3wv3p"]
[ext_resource type="PackedScene" uid="uid://dmaavs7g6v5" path="res://scenes/ui/hud.tscn" id="4_j0sv7"]
[ext_resource type="Script" uid="uid://mratbeku5rp4" path="res://scripts/ui/hud.gd" id="5_4unv2"]
[ext_resource type="Script" uid="uid://fjupftl8kcbq" path="res://scripts/objects/mission_zone.gd" id="5_buy1m"]
[ext_resource type="PackedScene" uid="uid://dyvxp4rlmkc2k" path="res://scenes/hazards/mugger.tscn" id="7_4unv2"]
[ext_resource type="PackedScene" uid="uid://b1l5ltu182nav" path="res://scenes/hazards/witness.tscn" id="8_yynx6"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4unv2"]
sky_top_color = Color(0.26653063, 0.4203754, 0.8150899, 1)
sky_horizon_color = Color(0.60754836, 0.6382596, 0.7279382, 1)
ground_horizon_color = Color(0.60754836, 0.6382596, 0.7279382, 1)
energy_multiplier = 1.4

[sub_resource type="Sky" id="Sky_yynx6"]
sky_material = SubResource("ProceduralSkyMaterial_4unv2")

[sub_resource type="Environment" id="Environment_ktef7"]
background_mode = 2
sky = SubResource("Sky_yynx6")
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_86d4f"]
albedo_color = Color(1, 1, 0.02745098, 1)

[sub_resource type="Curve3D" id="Curve3D_timdk"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -27.855728, 2.9223428, 4.208048, 0, 0, 0, 0, 0, 0, -8.696049, 2.9717188, -1.5490437, 0, 0, 0, 0, 0, 0, 25.173166, 2.2850552, -2.1099014, 0, 0, 0, 0, 0, 0, -12.304619, 3.9394171, 12.555571),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="CylinderShape3D" id="CylinderShape3D_4unv2"]
radius = 12.025879

[sub_resource type="NavigationMesh" id="NavigationMesh_yynx6"]
vertices = PackedVector3Array(22.872028, 9.916075, -82.4111, 24.872028, 9.916075, -82.4111, 24.872028, 9.916075, -82.9111, -34.37797, 9.916075, -82.4111, -34.37797, 9.916075, -79.4111, 22.872028, 9.916075, -79.4111, -35.62797, 9.916075, -82.9111, -35.37797, 10.416075, 22.588898, -35.62797, 10.416075, -81.6611, -35.62797, 10.416075, 23.838898, 24.372028, 10.416075, 23.838898, 24.122028, 10.416075, 22.588898, -24.877972, 0.91607463, -23.161102, -18.127972, 0.91607463, -22.911102, -17.877972, 0.91607463, -24.661102, -25.127972, 0.91607463, -26.911102, -34.37797, 0.91607463, -78.4111, -26.877972, 0.91607463, -26.911102, -34.37797, 0.91607463, -25.411102, -27.127972, 0.91607463, -25.161102, -16.127972, 0.91607463, -24.661102, -15.877972, 0.91607463, -22.911102, 22.872028, 0.91607463, -23.161102, 22.872028, 0.91607463, -78.4111, -34.37797, 0.91607463, -7.1611023, -27.127972, 0.91607463, -7.4111023, -24.877972, 0.91607463, -7.4111023, -18.127972, 0.91607463, -7.1611023, -15.877972, 0.91607463, -5.1611023, 22.872028, 0.91607463, -4.9111023, -25.127972, 0.91607463, -5.6611023, -18.127972, 0.91607463, -3.6611023, -16.877972, 0.91607463, 21.838898, -16.877972, 0.91607463, -3.4111023, -26.877972, 0.91607463, -5.6611023, -34.37797, 0.91607463, 21.838898, -15.877972, 0.91607463, -3.6611023, 22.872028, 0.91607463, 21.838898)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 5, 3), PackedInt32Array(3, 5, 4), PackedInt32Array(3, 6, 0), PackedInt32Array(0, 6, 2), PackedInt32Array(9, 8, 7), PackedInt32Array(7, 11, 9), PackedInt32Array(9, 11, 10), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(15, 17, 16), PackedInt32Array(19, 18, 17), PackedInt32Array(17, 18, 16), PackedInt32Array(20, 14, 15), PackedInt32Array(22, 21, 20), PackedInt32Array(20, 15, 22), PackedInt32Array(22, 15, 23), PackedInt32Array(23, 15, 16), PackedInt32Array(25, 24, 19), PackedInt32Array(19, 24, 18), PackedInt32Array(12, 13, 26), PackedInt32Array(26, 13, 27), PackedInt32Array(21, 22, 28), PackedInt32Array(28, 22, 29), PackedInt32Array(26, 27, 30), PackedInt32Array(30, 27, 31), PackedInt32Array(32, 31, 33), PackedInt32Array(24, 25, 34), PackedInt32Array(34, 30, 31), PackedInt32Array(34, 31, 24), PackedInt32Array(24, 31, 35), PackedInt32Array(35, 31, 32), PackedInt32Array(33, 36, 32), PackedInt32Array(32, 36, 37), PackedInt32Array(37, 36, 29), PackedInt32Array(36, 28, 29)]

[sub_resource type="Curve3D" id="Curve3D_yynx6"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -5.4967957, 4.858848, -36.047104, 0, 0, 0, 0, 0, 0, -2.6081362, 5.8985796, -14.216715, 0, 0, 0, 0, 0, 0, 4.1549115, 4.024141, -19.517454, 0, 0, 0, 0, 0, 0, 6.1466312, 4.4318905, -35.726406),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[node name="TestLevel" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ktef7")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.9774159, -0.13155276, 0.16538447, 0, 0.78260815, 0.62251467, -0.21132475, 0.6084557, -0.76493365, 0, 0, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("1_86d4f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.7579942, 1.51377, 5.1195126)

[node name="ClimbWall" type="CSGBox3D" parent="." groups=["climbable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7553401, 6.76001, 2.2616577)
use_collision = true
size = Vector3(4, 19.52002, 5.5233154)
material = SubResource("StandardMaterial3D_86d4f")

[node name="ClimbWall2" type="CSGBox3D" parent="." groups=["climbable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7553401, 16.1055, -29.895565)
use_collision = true
size = Vector3(4, 38.211, 5.5233154)
material = SubResource("StandardMaterial3D_86d4f")

[node name="InteractiveBike" parent="." instance=ExtResource("2_w20ko")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.549572, 1.0311221, 7.7796316)

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_timdk")

[node name="TrafficCar_tscn" parent="Path3D" instance=ExtResource("3_3wv3p")]
transform = Transform3D(0.28776792, -0.002363638, -0.95769215, 0, 0.99998724, -0.0024680486, 0.9576956, 0.00071022485, 0.28776687, -27.855728, 2.9223428, 4.208048)

[node name="TrafficCar_tscn2" parent="Path3D" instance=ExtResource("3_3wv3p")]
transform = Transform3D(0.28776792, -0.002363638, -0.95769215, 0, 0.99998724, -0.0024680486, 0.9576956, 0.00071022485, 0.28776687, -27.855728, 2.9223428, 4.208048)

[node name="TrafficCar_tscn3" parent="Path3D" instance=ExtResource("3_3wv3p")]
transform = Transform3D(0.28776792, -0.002363638, -0.95769215, 0, 0.99998724, -0.0024680486, 0.9576956, 0.00071022485, 0.28776687, -27.855728, 2.9223428, 4.208048)

[node name="Hud" parent="." instance=ExtResource("4_j0sv7")]
script = ExtResource("5_4unv2")
icon_rotation_offset = 70.0

[node name="StartZone" type="Area3D" parent="." node_paths=PackedStringArray("target_zone")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.00753, 0, 1.8036919)
script = ExtResource("5_buy1m")
target_zone = NodePath("../EndZone")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StartZone"]
shape = SubResource("CylinderShape3D_4unv2")

[node name="EndZone" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.070883, 0, -51.45945)
script = ExtResource("5_buy1m")
type = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="EndZone"]
shape = SubResource("CylinderShape3D_4unv2")

[node name="InteractiveBike2" parent="." instance=ExtResource("2_w20ko")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.933318, 1.0311211, -24.76905)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_yynx6")

[node name="Floor" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.604047, 0.4811219, -28.318903)
use_collision = true
size = Vector3(61.04785, 0.1, 105.398285)

[node name="CollisionWall" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.888489, 4.7670145, -0.5278454)
size = Vector3(1, 9.664124, 106.38048)

[node name="CollisionWall5" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.28709, 2.032136, 12.077566)
size = Vector3(1, 4.1943665, 19.99252)

[node name="CollisionWall6" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.421241, 2.032136, 14.398498)
size = Vector3(1, 4.1943665, 19.99252)

[node name="CollisionWall4" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.53061, 4.7670145, -0.5278454)
size = Vector3(0.71673584, 9.664124, 106.38048)

[node name="CollisionWall3" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.019364357, 4.7670145, 51.768707)
size = Vector3(60.815704, 9.664124, 1.7873802)

[node name="CollisionWall2" type="CSGBox3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.27929783, 4.455003, -52.95601)
size = Vector3(61.33557, 9.0401, 4.272376)

[node name="Mugger" parent="." instance=ExtResource("7_4unv2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23.546276, 2.9528723, -12.753075)

[node name="Witness" parent="." node_paths=PackedStringArray("patrol_path") instance=ExtResource("8_yynx6")]
transform = Transform3D(-0.9977068, 0, 0.06768452, 0, 1, 0, -0.06768452, 0, -0.9977068, 6.0690618, 1.5385109, -38.7799)
patrol_path = NodePath("../Path3D2")

[node name="Witness2" parent="." node_paths=PackedStringArray("patrol_path") instance=ExtResource("8_yynx6")]
transform = Transform3D(-0.9353947, 0, 0.35360536, 0, 1, 0, -0.35360536, 0, -0.9353947, -1.5342588, 1.9442987, -18.800297)
patrol_path = NodePath("../Path3D2")
start_waypoint_index = 2

[node name="Path3D2" type="Path3D" parent="."]
curve = SubResource("Curve3D_yynx6")
